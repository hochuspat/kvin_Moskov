{"version":3,"sources":["../../../../src/components/CalendarTime/CalendarTime.tsx"],"sourcesContent":["import * as React from 'react';\nimport { SizeType } from '../../lib/adaptivity';\nimport { setHours, setMinutes } from '../../lib/date';\nimport { AdaptivityProvider } from '../AdaptivityProvider/AdaptivityProvider';\nimport { Button } from '../Button/Button';\nimport { CustomSelect } from '../CustomSelect/CustomSelect';\nimport styles from './CalendarTime.module.css';\n\nexport interface CalendarTimeProps {\n  value: Date;\n  doneButtonText?: string;\n  changeHoursAriaLabel?: string;\n  changeMinutesAriaLabel?: string;\n  onChange?(value: Date): void;\n  onClose?(): void;\n}\n\nconst hours: Array<{\n  value: number;\n  label: string;\n}> = [];\nfor (let i = 0; i < 24; i += 1) {\n  hours.push({ value: i, label: String(i).padStart(2, '0') });\n}\n\nconst minutes: Array<{\n  value: number;\n  label: string;\n}> = [];\nfor (let i = 0; i < 60; i += 1) {\n  minutes.push({ value: i, label: String(i).padStart(2, '0') });\n}\n\nexport const CalendarTime = ({\n  value,\n  doneButtonText = 'Готово',\n  onChange,\n  onClose,\n  changeHoursAriaLabel = 'Изменить час',\n  changeMinutesAriaLabel = 'Изменить минуту',\n}: CalendarTimeProps) => {\n  const onHoursChange = React.useCallback(\n    (event: React.ChangeEvent<HTMLSelectElement>) =>\n      onChange?.(setHours(value, Number(event.target.value))),\n    [onChange, value],\n  );\n  const onMinutesChange = React.useCallback(\n    (event: React.ChangeEvent<HTMLSelectElement>) =>\n      onChange?.(setMinutes(value, Number(event.target.value))),\n    [onChange, value],\n  );\n\n  return (\n    <div className={styles['CalendarTime']}>\n      <div className={styles['CalendarTime__picker']}>\n        <AdaptivityProvider sizeY={SizeType.COMPACT}>\n          <CustomSelect\n            value={value.getHours()}\n            options={hours}\n            onChange={onHoursChange}\n            forceDropdownPortal={false}\n            aria-label={changeHoursAriaLabel}\n          />\n        </AdaptivityProvider>\n      </div>\n      <div className={styles['CalendarTime__divider']}>:</div>\n      <div className={styles['CalendarTime__picker']}>\n        <AdaptivityProvider sizeY={SizeType.COMPACT}>\n          <CustomSelect\n            value={value.getMinutes()}\n            options={minutes}\n            onChange={onMinutesChange}\n            forceDropdownPortal={false}\n            aria-label={changeMinutesAriaLabel}\n          />\n        </AdaptivityProvider>\n      </div>\n      <div className={styles['CalendarTime__button']}>\n        <AdaptivityProvider sizeY={SizeType.COMPACT}>\n          <Button mode=\"secondary\" onClick={onClose} size=\"l\" aria-label={doneButtonText}>\n            {doneButtonText}\n          </Button>\n        </AdaptivityProvider>\n      </div>\n    </div>\n  );\n};\n"],"names":["CalendarTime","hours","i","push","value","label","String","padStart","minutes","doneButtonText","onChange","onClose","changeHoursAriaLabel","changeMinutesAriaLabel","onHoursChange","React","useCallback","event","setHours","Number","target","onMinutesChange","setMinutes","div","className","AdaptivityProvider","sizeY","SizeType","COMPACT","CustomSelect","getHours","options","forceDropdownPortal","aria-label","getMinutes","Button","mode","onClick","size"],"mappings":";;;;+BAiCaA;;;eAAAA;;;;+DAjCU;0BACE;oBACY;kCACF;sBACZ;4BACM;AAY7B,IAAMC,QAGD,EAAE;AACP,IAAK,IAAIC,IAAI,GAAGA,IAAI,IAAIA,KAAK,EAAG;IAC9BD,MAAME,IAAI,CAAC;QAAEC,OAAOF;QAAGG,OAAOC,OAAOJ,GAAGK,QAAQ,CAAC,GAAG;IAAK;AAC3D;AAEA,IAAMC,UAGD,EAAE;AACP,IAAK,IAAIN,KAAI,GAAGA,KAAI,IAAIA,MAAK,EAAG;IAC9BM,QAAQL,IAAI,CAAC;QAAEC,OAAOF;QAAGG,OAAOC,OAAOJ,IAAGK,QAAQ,CAAC,GAAG;IAAK;AAC7D;AAEO,IAAMP,eAAe;QAC1BI,cAAAA,qCACAK,gBAAAA,oDAAiB,kCACjBC,iBAAAA,UACAC,gBAAAA,6CACAC,sBAAAA,gEAAuB,oFACvBC,wBAAAA,oEAAyB;IAEzB,IAAMC,gBAAgBC,OAAMC,WAAW,CACrC,SAACC;eACCP,qBAAAA,+BAAAA,SAAWQ,IAAAA,cAAQ,EAACd,OAAOe,OAAOF,MAAMG,MAAM,CAAChB,KAAK;OACtD;QAACM;QAAUN;KAAM;IAEnB,IAAMiB,kBAAkBN,OAAMC,WAAW,CACvC,SAACC;eACCP,qBAAAA,+BAAAA,SAAWY,IAAAA,gBAAU,EAAClB,OAAOe,OAAOF,MAAMG,MAAM,CAAChB,KAAK;OACxD;QAACM;QAAUN;KAAM;IAGnB,qBACE,qBAACmB;QAAIC,SAAS;qBACZ,qBAACD;QAAIC,SAAS;qBACZ,qBAACC,sCAAkB;QAACC,OAAOC,oBAAQ,CAACC,OAAO;qBACzC,qBAACC,0BAAY;QACXzB,OAAOA,MAAM0B,QAAQ;QACrBC,SAAS9B;QACTS,UAAUI;QACVkB,qBAAqB;QACrBC,cAAYrB;wBAIlB,qBAACW;QAAIC,SAAS;OAAmC,oBACjD,qBAACD;QAAIC,SAAS;qBACZ,qBAACC,sCAAkB;QAACC,OAAOC,oBAAQ,CAACC,OAAO;qBACzC,qBAACC,0BAAY;QACXzB,OAAOA,MAAM8B,UAAU;QACvBH,SAASvB;QACTE,UAAUW;QACVW,qBAAqB;QACrBC,cAAYpB;wBAIlB,qBAACU;QAAIC,SAAS;qBACZ,qBAACC,sCAAkB;QAACC,OAAOC,oBAAQ,CAACC,OAAO;qBACzC,qBAACO,cAAM;QAACC,MAAK;QAAYC,SAAS1B;QAAS2B,MAAK;QAAIL,cAAYxB;OAC7DA;AAMb"}