{"ast":null,"code":"import { _ as _class_call_check } from \"@swc/helpers/_/_class_call_check\";\nimport { _ as _create_class } from \"@swc/helpers/_/_create_class\";\nimport { _ as _define_property } from \"@swc/helpers/_/_define_property\";\nimport { escapeRegExp } from \"../regexp\";\nexport var Replacer = /*#__PURE__*/function () {\n  \"use strict\";\n\n  function Replacer(map) {\n    _class_call_check(this, Replacer);\n\n    _define_property(this, \"regexp\", void 0);\n\n    _define_property(this, \"map\", void 0);\n\n    this.map = map;\n  }\n\n  _create_class(Replacer, [{\n    key: \"build\",\n    value: function build() {\n      if (this.regexp) {\n        return;\n      }\n\n      var groups = Object.keys(this.map).map(escapeRegExp).sort(function (a, b) {\n        return b.length - a.length;\n      });\n      var pattern = \"(?:\".concat(groups.join(\"|\"), \")\");\n      this.regexp = new RegExp(pattern, \"g\");\n    }\n  }, {\n    key: \"replace\",\n    value: function replace(string) {\n      var _this = this;\n\n      if (!string) {\n        return \"\";\n      }\n\n      this.build();\n      return string.replace(this.regexp, function (substring) {\n        return _this.map[substring];\n      });\n    }\n  }]);\n\n  return Replacer;\n}();","map":{"version":3,"mappings":";;;AAAA,SAASA,YAAT,QAA6B,WAA7B;AAEA,OAAO,YAAMC,gBAAN;;;WAAMA,SAICC,KAA2B;4BAJ5BD;;IACXE,uBAAQC,QAAR;;IACAD,uBAAQD,KAAR;;IAGE,KAAKA,GAAL,GAAWA,GAAX;;;gBALSD;IAQHI;WAAR,SAAQA,KAAR,GAAQA;MACN,IAAI,KAAKD,MAAT,EAAiB;QACf;MACF;;MAEA,IAAME,SAASC,OAAOC,IAAPD,CAAY,KAAKL,GAAjBK,EACZL,GADYK,CACRP,YADQO,EAEZE,IAFYF,CAEP,UAACG,CAAD,EAAIC,CAAJ,EAAIA;eAAMA,EAAEC,MAAFD,GAAWD,EAAEE;OAFhBL,CAAf;MAGA,IAAMM,UAAU,MAAuBC,MAAvB,CAAMR,OAAOS,IAAPT,CAAY,GAAZA,CAAN,EAAuB,GAAvB,CAAhB;MAEA,KAAKF,MAAL,GAAc,IAAIY,MAAJ,CAAWH,OAAX,EAAoB,GAApB,CAAd;IACF;GAnBWZ;IAqBXgB;WAAAA,iBAAQC,MAARD,EAAsB;;;MACpB,IAAI,CAACC,MAAL,EAAa;QACX,OAAO,EAAP;MACF;;MAEA,KAAKb,KAAL;MAEA,OAAOa,OAAOD,OAAPC,CAAe,KAAKd,MAApBc,EAA6B,UAACC,SAAD,EAACA;eAAcC,MAAKlB,GAAL,CAASiB,SAAT;OAA5CD,CAAP;IACF;GA7BWjB;;SAAAA;CAAN","names":["escapeRegExp","Replacer","map","_define_property","regexp","build","groups","Object","keys","sort","a","b","length","pattern","concat","join","RegExp","replace","string","substring","_this"],"sources":["C:\\Users\\kulag\\vk\\Ability\\node_modules\\@vkontakte\\vkjs\\src\\lib\\replacer.ts"],"sourcesContent":["import { escapeRegExp } from '../regexp';\n\nexport class Replacer {\n  private regexp: RegExp | undefined;\n  private map: Record<string, string>;\n\n  constructor(map: Record<string, string>) {\n    this.map = map;\n  }\n\n  private build() {\n    if (this.regexp) {\n      return;\n    }\n\n    const groups = Object.keys(this.map)\n      .map(escapeRegExp)\n      .sort((a, b) => b.length - a.length);\n    const pattern = `(?:${groups.join('|')})`;\n\n    this.regexp = new RegExp(pattern, 'g');\n  }\n\n  replace(string: string) {\n    if (!string) {\n      return '';\n    }\n\n    this.build();\n\n    return string.replace(this.regexp!, (substring) => this.map[substring]);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}