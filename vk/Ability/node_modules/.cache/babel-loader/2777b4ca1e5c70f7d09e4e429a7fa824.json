{"ast":null,"code":"import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport * as React from \"react\";\nimport { classNames, hasReactNode } from \"@vkontakte/vkjs\";\nimport { useId } from \"../../hooks/useId\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport { RootComponent } from \"../RootComponent/RootComponent\";\nimport { Caption } from \"../Typography/Caption/Caption\";\nimport { Footnote } from \"../Typography/Footnote/Footnote\";\nvar stylesSize = {\n  s: \"vkuiUsersStack--size-s\",\n  m: \"vkuiUsersStack--size-m\",\n  l: \"vkuiUsersStack--size-l\"\n};\nvar stylesDirection = {\n  \"row\": \"vkuiUsersStack--direction-row\",\n  \"row-reverse\": \"vkuiUsersStack--direction-row-reverse\",\n  \"column\": \"vkuiUsersStack--direction-column\"\n};\n\nfunction PathElement(_param) {\n  var photoSize = _param.photoSize,\n      direction = _param.direction,\n      props = _object_without_properties(_param, [\"photoSize\", \"direction\"]);\n\n  switch (direction) {\n    case \"circle\":\n      var radius = photoSize / 2;\n      return /*#__PURE__*/React.createElement(\"circle\", _object_spread({\n        cx: radius,\n        cy: radius,\n        r: radius\n      }, props));\n\n    case \"right\":\n      switch (photoSize) {\n        case 24:\n          return /*#__PURE__*/React.createElement(\"path\", _object_spread({\n            d: \"M22,18.625A12 12 0 0 1 12 24A12 12 0 0 1 12 0A12 12 0 0 1 22 5.375A12 12 0 0 0 22,18.625\"\n          }, props));\n\n        default:\n          return /*#__PURE__*/React.createElement(\"path\", _object_spread({\n            d: \"M30,23.75A16 16 0 0 1 16 32A16 16 0 0 1 16 0A16 16 0 0 1 30 8.25A16 16 0 0 0 30,23.75\"\n          }, props));\n      }\n\n    default:\n      switch (photoSize) {\n        case 16:\n          return /*#__PURE__*/React.createElement(\"path\", _object_spread({\n            d: \"M2,13.285A8 8 0 0 0 8 16A8 8 0 0 0 8 0A8 8 0 0 0 2 2.715A8 8 0 0 1 2,13.285\"\n          }, props));\n\n        case 24:\n          return /*#__PURE__*/React.createElement(\"path\", _object_spread({\n            d: \"M2,18.625A12 12 0 0 0 12 24A12 12 0 0 0 12 0A12 12 0 0 0 2 5.375A12 12 0 0 1 2,18.625\"\n          }, props));\n\n        default:\n          return /*#__PURE__*/React.createElement(\"path\", _object_spread({\n            d: \"M2,23.75A16 16 0 0 0 16 32A16 16 0 0 0 16 0A16 16 0 0 0 2 8.25A16 16 0 0 1 2,23.75\"\n          }, props));\n      }\n\n  }\n}\n\nvar photoSizes = {\n  s: 16,\n  m: 24,\n  l: 32\n};\nvar warn = warnOnce(\"UsersStack\");\n/**\n * @see https://vkcom.github.io/VKUI/#/UsersStack\n */\n\nexport var UsersStack = function (_param) {\n  var _param_photos = _param.photos,\n      photos = _param_photos === void 0 ? [] : _param_photos,\n      _param_visibleCount = _param.visibleCount,\n      visibleCount = _param_visibleCount === void 0 ? 3 : _param_visibleCount,\n      _param_count = _param.count,\n      count = _param_count === void 0 ? Math.max(0, photos.length - visibleCount) : _param_count,\n      _param_size = _param.size,\n      size = _param_size === void 0 ? \"m\" : _param_size,\n      layout = _param.layout,\n      children = _param.children,\n      tmp = _param.direction,\n      directionProp = tmp === void 0 ? \"row\" : tmp,\n      restProps = _object_without_properties(_param, [\"photos\", \"visibleCount\", \"count\", \"size\", \"layout\", \"children\", \"direction\"]);\n\n  var cmpId = useId();\n  var canShowOthers = count > 0 && count < 100 && size !== \"s\";\n  var CounterTypography = size === \"l\" ? Footnote : Caption;\n  var photoSize = photoSizes[size];\n  var directionClip = canShowOthers ? \"right\" : \"left\";\n  var photosElements = photos.slice(0, visibleCount).map(function (photo, i) {\n    var direction = i === 0 && !canShowOthers ? \"circle\" : directionClip;\n    var id = \"UsersStackDefs\".concat(cmpId).concat(i);\n    var hrefID = \"#\".concat(id);\n    var maskID = \"UsersStackMask\".concat(cmpId).concat(i);\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      className: \"vkuiUsersStack__photo\",\n      key: i,\n      \"aria-hidden\": true\n    }, /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(PathElement, {\n      id: id,\n      direction: direction,\n      photoSize: photoSize\n    })), /*#__PURE__*/React.createElement(\"clipPath\", {\n      id: maskID\n    }, /*#__PURE__*/React.createElement(\"use\", {\n      href: hrefID\n    })), /*#__PURE__*/React.createElement(\"g\", {\n      clipPath: \"url(#\".concat(maskID, \")\")\n    }, /*#__PURE__*/React.createElement(\"use\", {\n      href: hrefID,\n      className: \"vkuiUsersStack__fill\"\n    }), /*#__PURE__*/React.createElement(\"image\", {\n      href: photo,\n      width: photoSize,\n      height: photoSize\n    }), /*#__PURE__*/React.createElement(\"use\", {\n      href: hrefID,\n      fill: \"none\",\n      stroke: \"rgba(0, 0, 0, 0.08)\"\n    })));\n  });\n  var othersElement = canShowOthers ? /*#__PURE__*/React.createElement(CounterTypography, {\n    caps: true,\n    weight: \"1\",\n    className: classNames(\"vkuiUsersStack__photo\", \"vkuiUsersStack__photo--others\")\n  }, \"+\", count) : null;\n\n  if (process.env.NODE_ENV === \"development\" && layout) {\n    // TODO [>=6]: Удалить layout\n    warn('Свойство \"layout\" будет удалено в v6. Используйте свойство \"direction\"');\n  }\n\n  var direction = layout && (layout === \"vertical\" ? \"column\" : \"row\") || directionProp;\n  return /*#__PURE__*/React.createElement(RootComponent, _object_spread_props(_object_spread({}, restProps), {\n    baseClassName: classNames(\"vkuiInternalUsersStack\", \"vkuiUsersStack\", stylesSize[size], stylesDirection[direction])\n  }), (photosElements.length > 0 || othersElement) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiUsersStack__photos\",\n    \"aria-hidden\": true\n  }, photosElements, othersElement), hasReactNode(children) && /*#__PURE__*/React.createElement(Footnote, {\n    className: \"vkuiUsersStack__text\"\n  }, children));\n};","map":{"version":3,"mappings":"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","names":["React","classNames","hasReactNode","useId","warnOnce","RootComponent","Caption","Footnote","stylesSize","s","m","l","stylesDirection","PathElement","_param","photoSize","direction","props","radius","circle","cx","cy","r","path","d","photoSizes","warn","UsersStack","photos","_param_photos","_param_visibleCount","visibleCount","_param_count","count","Math","max","length","size","_param_size","layout","children","directionProp","restProps","cmpId","canShowOthers","CounterTypography","directionClip","photosElements","slice","map","photo","i","id","concat","hrefID","maskID","svg","xmlns","className","key","aria-hidden","defs","clipPath","use","href","g","image","width","height","fill","stroke","othersElement","caps","weight","process","env","NODE_ENV","baseClassName","div"],"sources":["C:\\Users\\kulag\\vk\\Ability\\node_modules\\@vkontakte\\vkui\\src\\components\\UsersStack\\UsersStack.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { useId } from '../../hooks/useId';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Caption } from '../Typography/Caption/Caption';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport styles from './UsersStack.module.css';\n\nconst stylesSize = {\n  s: styles['UsersStack--size-s'],\n  m: styles['UsersStack--size-m'],\n  l: styles['UsersStack--size-l'],\n};\n\nconst stylesDirection = {\n  'row': styles['UsersStack--direction-row'],\n  'row-reverse': styles['UsersStack--direction-row-reverse'],\n  'column': styles['UsersStack--direction-column'],\n};\n\nexport interface UsersStackProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Массив ссылок на фотографии\n   */\n  photos?: string[];\n  /**\n   * Размер аватарок\n   */\n  size?: 's' | 'm' | 'l';\n  /**\n   * Вертикальный режим рекомендуется использовать с размером `m`\n   * TODO [>=6]: удалить\n   * @deprecated\n   */\n  layout?: 'vertical' | 'horizontal';\n  /**\n   * Количество аватарок, которые будут показаны.\n   * Если в массиве `photos` больше элементов и используется размер `m`, то будет показано количество остальных элементов\n   */\n  visibleCount?: number;\n  /**\n   * Число, которое будет указано в счетчике.\n   * По умолчанию высчитывается по формуле `photos.length - visibleCount`.\n   * Если число больше 99, то счетчик скроется.\n   */\n  count?: number;\n  /**\n   * Определяет положение элементов\n   * Режим `column` рекомендуется использовать с размером `m`\n   * @since 5.3.0\n   */\n  direction?: 'row' | 'row-reverse' | 'column';\n}\n\ninterface PathElementProps extends React.SVGAttributes<SVGElement> {\n  photoSize: number;\n  direction: 'circle' | 'right' | 'left';\n}\n\ntype PhotoSizeType = 16 | 24 | 32;\n\nfunction PathElement({ photoSize, direction, ...props }: PathElementProps) {\n  switch (direction) {\n    case 'circle':\n      const radius = photoSize / 2;\n\n      return <circle cx={radius} cy={radius} r={radius} {...props} />;\n\n    case 'right':\n      switch (photoSize) {\n        case 24:\n          return (\n            <path\n              d=\"M22,18.625A12 12 0 0 1 12 24A12 12 0 0 1 12 0A12 12 0 0 1 22 5.375A12 12 0 0 0 22,18.625\"\n              {...props}\n            />\n          );\n\n        default:\n          return (\n            <path\n              d=\"M30,23.75A16 16 0 0 1 16 32A16 16 0 0 1 16 0A16 16 0 0 1 30 8.25A16 16 0 0 0 30,23.75\"\n              {...props}\n            />\n          );\n      }\n\n    default:\n      switch (photoSize) {\n        case 16:\n          return (\n            <path\n              d=\"M2,13.285A8 8 0 0 0 8 16A8 8 0 0 0 8 0A8 8 0 0 0 2 2.715A8 8 0 0 1 2,13.285\"\n              {...props}\n            />\n          );\n        case 24:\n          return (\n            <path\n              d=\"M2,18.625A12 12 0 0 0 12 24A12 12 0 0 0 12 0A12 12 0 0 0 2 5.375A12 12 0 0 1 2,18.625\"\n              {...props}\n            />\n          );\n\n        default:\n          return (\n            <path\n              d=\"M2,23.75A16 16 0 0 0 16 32A16 16 0 0 0 16 0A16 16 0 0 0 2 8.25A16 16 0 0 1 2,23.75\"\n              {...props}\n            />\n          );\n      }\n  }\n}\n\nconst photoSizes: Record<NonNullable<UsersStackProps['size']>, PhotoSizeType> = {\n  s: 16,\n  m: 24,\n  l: 32,\n};\n\nconst warn = warnOnce('UsersStack');\n\n/**\n * @see https://vkcom.github.io/VKUI/#/UsersStack\n */\nexport const UsersStack = ({\n  photos = [],\n  visibleCount = 3,\n  count = Math.max(0, photos.length - visibleCount),\n  size = 'm',\n  layout,\n  children,\n  direction: directionProp = 'row',\n  ...restProps\n}: UsersStackProps) => {\n  const cmpId = useId();\n\n  const canShowOthers = count > 0 && count < 100 && size !== 's';\n  const CounterTypography = size === 'l' ? Footnote : Caption;\n\n  const photoSize = photoSizes[size];\n  const directionClip = canShowOthers ? 'right' : 'left';\n\n  const photosElements = photos.slice(0, visibleCount).map((photo, i) => {\n    const direction = i === 0 && !canShowOthers ? 'circle' : directionClip;\n\n    const id = `UsersStackDefs${cmpId}${i}`;\n    const hrefID = `#${id}`;\n    const maskID = `UsersStackMask${cmpId}${i}`;\n\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        className={styles['UsersStack__photo']}\n        key={i}\n        aria-hidden\n      >\n        <defs>\n          <PathElement id={id} direction={direction} photoSize={photoSize} />\n        </defs>\n        <clipPath id={maskID}>\n          <use href={hrefID} />\n        </clipPath>\n        <g clipPath={`url(#${maskID})`}>\n          <use href={hrefID} className={styles['UsersStack__fill']} />\n          <image href={photo} width={photoSize} height={photoSize} />\n          <use href={hrefID} fill=\"none\" stroke=\"rgba(0, 0, 0, 0.08)\" />\n        </g>\n      </svg>\n    );\n  });\n\n  const othersElement = canShowOthers ? (\n    <CounterTypography\n      caps\n      weight=\"1\"\n      className={classNames(styles['UsersStack__photo'], styles['UsersStack__photo--others'])}\n    >\n      +{count}\n    </CounterTypography>\n  ) : null;\n\n  if (process.env.NODE_ENV === 'development' && layout) {\n    // TODO [>=6]: Удалить layout\n    warn('Свойство \"layout\" будет удалено в v6. Используйте свойство \"direction\"');\n  }\n\n  const direction = (layout && (layout === 'vertical' ? 'column' : 'row')) || directionProp;\n\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(\n        'vkuiInternalUsersStack',\n        styles['UsersStack'],\n        stylesSize[size],\n        stylesDirection[direction],\n      )}\n    >\n      {(photosElements.length > 0 || othersElement) && (\n        <div className={styles['UsersStack__photos']} aria-hidden>\n          {photosElements}\n          {othersElement}\n        </div>\n      )}\n      {hasReactNode(children) && (\n        <Footnote className={styles['UsersStack__text']}>{children}</Footnote>\n      )}\n    </RootComponent>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}