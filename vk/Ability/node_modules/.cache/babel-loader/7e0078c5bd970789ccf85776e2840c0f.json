{"ast":null,"code":"import { getOverflowAncestors } from \"../../lib/floating\";\nvar swipeBackExcludedSelector = \"input, textarea, [data-vkui-swipe-back=false]\";\nexport function swipeBackExcluded(e) {\n  var _target_closest;\n\n  var target = e.originalEvent.target; // eslint-disable-next-line no-restricted-properties\n\n  return Boolean(target === null || target === void 0 ? void 0 : (_target_closest = target.closest) === null || _target_closest === void 0 ? void 0 : _target_closest.call(target, swipeBackExcludedSelector));\n}\nexport function hasHorizontalScrollableElementWithScrolledToLeft(node) {\n  return getOverflowAncestors(node).some(function (node) {\n    return \"scrollLeft\" in node ? node.scrollLeft > 0 : false;\n  });\n}\nexport var SWIPE_BACK_EDGE_SIZE_THRESHOLD = 20;\nexport var SWIPE_BACK_SHIFT_THRESHOLD = 10;\nexport var getSwipeBackPredicates = function (startX, shiftX, innerWidth) {\n  var swipedToOpposite = shiftX < 0;\n  var swipeBackTriggered = shiftX >= SWIPE_BACK_SHIFT_THRESHOLD;\n  var viewportStartEdgeTouched = startX <= SWIPE_BACK_EDGE_SIZE_THRESHOLD;\n  var viewportEndEdgeTouched = startX >= innerWidth - SWIPE_BACK_EDGE_SIZE_THRESHOLD;\n  return {\n    swipedToOpposite: swipedToOpposite,\n    swipeBackTriggered: swipeBackTriggered,\n    viewportStartEdgeTouched: viewportStartEdgeTouched,\n    viewportEndEdgeTouched: viewportEndEdgeTouched\n  };\n};","map":{"version":3,"mappings":"AAAA,SAASA,oBAAT,QAAqC,oBAArC;AAGA,IAAMC,4BAA4B,+CAAlC;AAEA,OAAO,SAASC,iBAAT,CAA2BC,CAA3B,EAAwC;MAG9BC;;EAFf,IAAMA,SAASD,EAAEE,aAAFF,CAAgBC,MAA/B,CAD6C,CAE7C;;EACA,OAAOE,QAAQF,0EAAQG,OAARH,MAAe,IAAfA,uEAAkBH,yBAAlBG,CAARE,CAAP;AACF;AAEA,OAAO,SAASE,gDAAT,CAA0DC,IAA1D,EAA2E;EAChF,OAAOT,qBAAqBS,IAArBT,EAA2BU,IAA3BV,CAAgC,UAACS,IAAD,EAACA;WACtC,gBAAgBA,IAAhB,GAAuBA,KAAKE,UAALF,GAAkB,CAAzC,GAA6C;GADxCT,CAAP;AAGF;AAEA,OAAO,IAAMY,iCAAiC,EAAvC;AAEP,OAAO,IAAMC,6BAA6B,EAAnC;AAEP,OAAO,IAAMC,yBAAyB,UAACC,MAAD,EAAiBC,MAAjB,EAAiCC,UAAjC,EAAiCA;EACrE,IAAMC,mBAAmBF,SAAS,CAAlC;EACA,IAAMG,qBAAqBH,UAAUH,0BAArC;EACA,IAAMO,2BAA2BL,UAAUH,8BAA3C;EACA,IAAMS,yBAAyBN,UAAUE,aAAaL,8BAAtD;EACA,OAAO;IAAEM,kCAAF;IAAoBC,sCAApB;IAAwCC,kDAAxC;IAAkEC;EAAlE,CAAP;AACF,CANO","names":["getOverflowAncestors","swipeBackExcludedSelector","swipeBackExcluded","e","target","originalEvent","Boolean","closest","hasHorizontalScrollableElementWithScrolledToLeft","node","some","scrollLeft","SWIPE_BACK_EDGE_SIZE_THRESHOLD","SWIPE_BACK_SHIFT_THRESHOLD","getSwipeBackPredicates","startX","shiftX","innerWidth","swipedToOpposite","swipeBackTriggered","viewportStartEdgeTouched","viewportEndEdgeTouched"],"sources":["C:\\Users\\kulag\\vk\\Ability\\node_modules\\@vkontakte\\vkui\\src\\components\\View\\utils.ts"],"sourcesContent":["import { getOverflowAncestors } from '../../lib/floating';\nimport { TouchEvent } from '../Touch/Touch';\n\nconst swipeBackExcludedSelector = 'input, textarea, [data-vkui-swipe-back=false]';\n\nexport function swipeBackExcluded(e: TouchEvent) {\n  const target = e.originalEvent.target as HTMLElement;\n  // eslint-disable-next-line no-restricted-properties\n  return Boolean(target?.closest?.(swipeBackExcludedSelector));\n}\n\nexport function hasHorizontalScrollableElementWithScrolledToLeft(node: HTMLElement) {\n  return getOverflowAncestors(node).some((node) =>\n    'scrollLeft' in node ? node.scrollLeft > 0 : false,\n  );\n}\n\nexport const SWIPE_BACK_EDGE_SIZE_THRESHOLD = 20;\n\nexport const SWIPE_BACK_SHIFT_THRESHOLD = 10;\n\nexport const getSwipeBackPredicates = (startX: number, shiftX: number, innerWidth: number) => {\n  const swipedToOpposite = shiftX < 0;\n  const swipeBackTriggered = shiftX >= SWIPE_BACK_SHIFT_THRESHOLD;\n  const viewportStartEdgeTouched = startX <= SWIPE_BACK_EDGE_SIZE_THRESHOLD;\n  const viewportEndEdgeTouched = startX >= innerWidth - SWIPE_BACK_EDGE_SIZE_THRESHOLD;\n  return { swipedToOpposite, swipeBackTriggered, viewportStartEdgeTouched, viewportEndEdgeTouched };\n};\n"]},"metadata":{},"sourceType":"module"}