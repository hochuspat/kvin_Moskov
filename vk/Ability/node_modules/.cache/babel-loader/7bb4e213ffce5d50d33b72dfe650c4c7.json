{"ast":null,"code":"import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport * as React from \"react\";\nimport { Icon16Spinner, Icon24Spinner, Icon32Spinner, Icon44Spinner } from \"@vkontakte/icons\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport { RootComponent } from \"../RootComponent/RootComponent\";\nimport { VisuallyHidden } from \"../VisuallyHidden/VisuallyHidden\";\nvar warn = warnOnce(\"Spinner\");\n/**\n * @see https://vkcom.github.io/VKUI/#/Spinner\n */\n\nexport var Spinner = /*#__PURE__*/React.memo(function (_param) {\n  var _param_size = _param.size,\n      size = _param_size === void 0 ? \"regular\" : _param_size,\n      _param_children = _param.children,\n      children = _param_children === void 0 ? \"Загружается...\" : _param_children,\n      tmp = _param[// TODO [>=6]: Удалить автоматическое приведение aria-label\n  \"aria-label\"],\n      ariaLabel = tmp === void 0 ? \"Загружается...\" : tmp,\n      disableAnimation = _param.disableAnimation,\n      restProps = _object_without_properties(_param, [\"size\", \"children\", \"aria-label\", \"disableAnimation\"]);\n\n  var SpinnerIcon = {\n    small: Icon16Spinner,\n    regular: Icon24Spinner,\n    medium: Icon32Spinner,\n    large: Icon44Spinner\n  }[size];\n  var center = {\n    small: 8,\n    regular: 12,\n    medium: 16,\n    large: 22\n  }[size]; // TODO [>=6]: Удалить варнинг\n\n  if (process.env.NODE_ENV === \"development\") {\n    if (ariaLabel && !children) {\n      warn(\"a11y: Пожалуйста, передавайте ваш текст для ассистивных технологий в children вместо aria-label.\");\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(RootComponent, _object_spread_props(_object_spread({\n    Component: \"span\",\n    role: \"status\"\n  }, restProps), {\n    baseClassName: \"vkuiSpinner\"\n  }), /*#__PURE__*/React.createElement(SpinnerIcon, null, !disableAnimation && // TODO [a11y]: use reduced motion hook?\n  //              https://github.com/VKCOM/VKUI/pull/4673\n\n  /*#__PURE__*/\n  React.createElement(\"animateTransform\", {\n    attributeName: \"transform\",\n    attributeType: \"XML\",\n    type: \"rotate\",\n    from: \"0 \".concat(center, \" \").concat(center),\n    to: \"360 \".concat(center, \" \").concat(center),\n    dur: \"0.7s\",\n    repeatCount: \"indefinite\"\n  })), /*#__PURE__*/React.createElement(VisuallyHidden, null, children !== null && children !== void 0 ? children : ariaLabel));\n});\nSpinner.displayName = \"Spinner\";","map":{"version":3,"mappings":";;;AAAA,YAAYA,KAAZ,MAAuB,OAAvB;AACA,SAASC,aAAT,EAAwBC,aAAxB,EAAuCC,aAAvC,EAAsDC,aAAtD,QAA2E,kBAA3E;AACA,SAASC,QAAT,QAAyB,oBAAzB;AAEA,SAASC,aAAT,QAA8B,gCAA9B;AACA,SAASC,cAAT,QAA+B,kCAA/B;AAQA,IAAMC,OAAOH,SAAS,SAATA,CAAb;AACA;;;;AAGA,OAAO,IAAMI,uBAAUT,MAAMU,IAANV,CACrB;2BACEW;MAAAA,gCAAO,SAAPA,GAAOC;MAAAC,yBACPC;MAAAA,wCAAW,gBAAXA,GAAWD;MAEGE,aADd;EACA,YAAcA;MAAAA,6BAAY,gBAAZA;MACdC;MACGC,gDALHN,MAKGM,EAJHH,UAIGG,EAFH,YAEGA,EADHD,kBACGC;;EAEH,IAAMC,cAAc;IAClBC,OAAOlB,aADW;IAElBmB,SAASlB,aAFS;IAGlBmB,QAAQlB,aAHU;IAIlBmB,OAAOlB;EAJW,EAKlBO,IALkB,CAApB;EAOA,IAAMY,SAAS;IACbJ,OAAO,CADM;IAEbC,SAAS,EAFI;IAGbC,QAAQ,EAHK;IAIbC,OAAO;EAJM,EAKbX,IALa,CAAf,CAfF,CAsBE;;EACA,IAAIa,QAAQC,GAARD,CAAYE,QAAZF,KAAyB,aAA7B,EAA4C;IAC1C,IAAIT,aAAa,CAACD,QAAlB,EAA4B;MAC1BN,KACE,kGADFA;IAGF;EACF;;EAEA,oBACER,oBAACM,aAAD,EAACA;IACCqB,WAAU,MADXrB;IAECsB,MAAK;EAFNtB,GAGKW,SAHLX,GAGKW;IACJY,aAAa;EADTZ,CAHLX,CAAD,eAMEN,oBAACkB,WAAD,EAACA,IAAD,EACG,CAACF,gBAAD,IACC;EACA;;;EACAhB,oBAAC8B,kBAAD,EAACA;IACCC,eAAc,WADfD;IAECE,eAAc,KAFfF;IAGCG,MAAK,QAHNH;IAICI,MAAM,KAAeX,MAAf,CAAKA,MAAL,EAAY,GAAZ,EAAsBY,MAAtB,CAAeZ,MAAf,CAJPO;IAKCM,IAAI,OAAiBb,MAAjB,CAAOA,MAAP,EAAc,GAAd,EAAwBY,MAAxB,CAAiBZ,MAAjB,CALLO;IAMCO,KAAI,MANLP;IAOCQ,aAAY;EAPbR,CAAD,CAJJ,CANF,eAqBE9B,oBAACO,cAAD,EAACA,IAAD,EAAiBO,sDAAYC,SAA7B,CArBF,CADF;AAyBF,CAzDqBf,CAAhB;AA4DPS,QAAQ8B,WAAR9B,GAAsB,SAAtBA","names":["React","Icon16Spinner","Icon24Spinner","Icon32Spinner","Icon44Spinner","warnOnce","RootComponent","VisuallyHidden","warn","Spinner","memo","size","_param_size","_param_children","children","ariaLabel","disableAnimation","restProps","SpinnerIcon","small","regular","medium","large","center","process","env","NODE_ENV","Component","role","baseClassName","animateTransform","attributeName","attributeType","type","from","concat","to","dur","repeatCount","displayName"],"sources":["C:\\Users\\kulag\\vk\\Ability\\node_modules\\@vkontakte\\vkui\\src\\components\\Spinner\\Spinner.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Icon16Spinner, Icon24Spinner, Icon32Spinner, Icon44Spinner } from '@vkontakte/icons';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './Spinner.module.css';\n\nexport interface SpinnerProps extends HTMLAttributesWithRootRef<HTMLSpanElement> {\n  size?: 'small' | 'regular' | 'medium' | 'large';\n  disableAnimation?: boolean;\n}\n\nconst warn = warnOnce('Spinner');\n/**\n * @see https://vkcom.github.io/VKUI/#/Spinner\n */\nexport const Spinner = React.memo(\n  ({\n    size = 'regular',\n    children = 'Загружается...',\n    // TODO [>=6]: Удалить автоматическое приведение aria-label\n    'aria-label': ariaLabel = 'Загружается...',\n    disableAnimation,\n    ...restProps\n  }: SpinnerProps) => {\n    const SpinnerIcon = {\n      small: Icon16Spinner,\n      regular: Icon24Spinner,\n      medium: Icon32Spinner,\n      large: Icon44Spinner,\n    }[size];\n\n    const center = {\n      small: 8,\n      regular: 12,\n      medium: 16,\n      large: 22,\n    }[size];\n\n    // TODO [>=6]: Удалить варнинг\n    if (process.env.NODE_ENV === 'development') {\n      if (ariaLabel && !children) {\n        warn(\n          'a11y: Пожалуйста, передавайте ваш текст для ассистивных технологий в children вместо aria-label.',\n        );\n      }\n    }\n\n    return (\n      <RootComponent\n        Component=\"span\"\n        role=\"status\"\n        {...restProps}\n        baseClassName={styles['Spinner']}\n      >\n        <SpinnerIcon>\n          {!disableAnimation && (\n            // TODO [a11y]: use reduced motion hook?\n            //              https://github.com/VKCOM/VKUI/pull/4673\n            <animateTransform\n              attributeName=\"transform\"\n              attributeType=\"XML\"\n              type=\"rotate\"\n              from={`0 ${center} ${center}`}\n              to={`360 ${center} ${center}`}\n              dur=\"0.7s\"\n              repeatCount=\"indefinite\"\n            />\n          )}\n        </SpinnerIcon>\n        <VisuallyHidden>{children ?? ariaLabel}</VisuallyHidden>\n      </RootComponent>\n    );\n  },\n);\n\nSpinner.displayName = 'Spinner';\n"]},"metadata":{},"sourceType":"module"}