{"ast":null,"code":"import * as React from \"react\";\nimport { useIsomorphicLayoutEffect } from \"../../lib/useIsomorphicLayoutEffect\";\nimport { ScrollContext } from \"../AppRoot/ScrollContext\";\n/**\n * @see https://vkcom.github.io/VKUI/#/ScrollSaver\n */\n\nexport var ScrollSaver = function (param) {\n  var children = param.children,\n      initialScroll = param.initialScroll,\n      saveScroll = param.saveScroll;\n\n  var _React_useContext = React.useContext(ScrollContext),\n      getScroll = _React_useContext.getScroll,\n      scrollTo = _React_useContext.scrollTo;\n\n  useIsomorphicLayoutEffect(function () {\n    if (typeof initialScroll === \"number\") {\n      scrollTo(0, initialScroll);\n    }\n\n    return function () {\n      return saveScroll(getScroll().y);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n};","map":{"version":3,"mappings":"AAAA,YAAYA,KAAZ,MAAuB,OAAvB;AACA,SAASC,yBAAT,QAA0C,qCAA1C;AAEA,SAASC,aAAT,QAA8B,0BAA9B;AAOA;;;;AAGA,OAAO,IAAMC,cAAc;MAAGC;MAAUC;MAAeC;;EACrD,IAAgCN,0BAAMO,UAANP,CAAiBE,aAAjBF,CAAhC;EAAA,IAAQQ,YAAwBR,kBAAxBQ,SAAR;EAAA,IAAmBC,WAAaT,kBAAbS,QAAnB;;EACAR,0BAA0B;IACxB,IAAI,OAAOI,aAAP,KAAyB,QAA7B,EAAuC;MACrCI,SAAS,CAATA,EAAYJ,aAAZI;IACF;;IACA,OAAO;aAAMH,WAAWE,YAAYE,CAAvBJ;KAAb;EACF,CALAL,EAKG,EALHA;EAMA,oBAAOD,oBAACA,MAAMW,QAAP,EAAe,IAAf,EAAiBP,QAAjB,CAAP;AACF,CATO","names":["React","useIsomorphicLayoutEffect","ScrollContext","ScrollSaver","children","initialScroll","saveScroll","useContext","getScroll","scrollTo","y","Fragment"],"sources":["C:\\Users\\kulag\\vk\\Ability\\node_modules\\@vkontakte\\vkui\\src\\components\\Epic\\ScrollSaver.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { HasChildren } from '../../types';\nimport { ScrollContext } from '../AppRoot/ScrollContext';\n\nexport interface ScrollSaverProps extends HasChildren {\n  initialScroll?: number;\n  saveScroll: (this: void, scroll: number) => any;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/ScrollSaver\n */\nexport const ScrollSaver = ({ children, initialScroll, saveScroll }: ScrollSaverProps) => {\n  const { getScroll, scrollTo } = React.useContext(ScrollContext);\n  useIsomorphicLayoutEffect(() => {\n    if (typeof initialScroll === 'number') {\n      scrollTo(0, initialScroll);\n    }\n    return () => saveScroll(getScroll().y);\n  }, []);\n  return <React.Fragment>{children}</React.Fragment>;\n};\n"]},"metadata":{},"sourceType":"module"}